(this["webpackJsonpsuperfans-sharebox"]=this["webpackJsonpsuperfans-sharebox"]||[]).push([[0],{10:function(e,a,t){e.exports={sm:"screen and (min-width: 640px)",root:"sharepage_root__26Ffg",wrapper:"sharepage_wrapper__2rrvs",box:"sharepage_box__3XN-D",header:"sharepage_header__2N4Qh",title:"sharepage_title__2lt_M",link:"sharepage_link__2f69H",helpLabel:"sharepage_helpLabel__3EuTP",helpLabelLeft:"sharepage_helpLabelLeft__36kDM sharepage_helpLabel__3EuTP",helpLabelRight:"sharepage_helpLabelRight__3cuSb sharepage_helpLabel__3EuTP",helpLabelLeftCheckbox:"sharepage_helpLabelLeftCheckbox__4irCK"}},12:function(e,a,t){e.exports={sm:"screen and (min-width: 640px)",root:"dashboard_root__2qCnQ",wrapper:"dashboard_wrapper__pPRBx",box:"dashboard_box__3f1JQ",header:"dashboard_header__19IQ1",title:"dashboard_title__9gsqp",main:"dashboard_main__1wlwg",column:"dashboard_column__1VHis",columnLeft:"dashboard_columnLeft__3UI1x dashboard_column__1VHis",columnRight:"dashboard_columnRight__-y292 dashboard_column__1VHis"}},14:function(e,a,t){e.exports={root:"home_root__1zepV",logo:"home_logo__22lQ0","App-logo-spin":"home_App-logo-spin__TdujP",header:"home_header__1KGhj",link:"home_link__wxmMY"}},15:function(e,a,t){e.exports={wrapper:"input-dialog_wrapper__P7zaU",main:"input-dialog_main__2Rqk9",input:"input-dialog_input__2wOz8",button:"input-dialog_button__2zHs_",closeButton:"input-dialog_closeButton__128Pe"}},16:function(e,a,t){e.exports={sm:"screen and (min-width: 640px)",root:"thankspage_root__1ib7v",wrapper:"thankspage_wrapper__1Bzqj",box:"thankspage_box__3WU5M",header:"thankspage_header__1j8vz",title:"thankspage_title__30LCk"}},19:function(e,a,t){e.exports={input:"input-sharing-link_input__2HL3_",copied:"input-sharing-link_copied__2ua1e",button:"input-sharing-link_button__3k14a",buttonText:"input-sharing-link_buttonText__NrO9X"}},34:function(e){e.exports=JSON.parse('{"name":"superfans-sharebox","version":"0.1.0","private":true,"homepage":"https://xdemocle.github.io/superfans-sharebox","dependencies":{"@craco/craco":"^6.1.1","@hot-loader/react-dom":"^17.0.1","@tailwindcss/postcss7-compat":"^2.0.3","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/classnames":"^2.2.11","@types/jest":"^26.0.15","@types/lodash.find":"^4.6.6","@types/node":"^12.0.0","@types/react":"^17.0.1","@types/react-copy-to-clipboard":"^5.0.0","@types/react-dom":"^17.0.1","@types/react-router-dom":"^5.1.7","@types/reactjs-localstorage":"^1.0.0","@types/uniqid":"^5.2.0","@types/use-global-hook":"^0.1.3","a11y-react-emoji":"^1.1.2","autoprefixer":"^9","classnames":"^2.2.6","craco-plugin-react-hot-reload":"^0.1.0","gh-pages":"^3.1.0","husky":"^5.0.9","lint-staged":"^10.5.4","lodash.find":"^4.6.0","postcss":"^7","prettier":"^2.2.1","react":"^17.0.1","react-copy-to-clipboard":"^5.0.3","react-dom":"^17.0.1","react-hot-loader":"^4.13.0","react-router-dom":"^5.2.0","react-scripts":"4.0.2","react-use-localstorage":"^3.5.3","reactjs-localstorage":"^1.0.1","tailwindcss":"npm:@tailwindcss/postcss7-compat","typescript":"^4.1.2","uniqid":"^5.2.0","use-global-hook":"^0.2.1"},"scripts":{"predeploy":"yarn build","deploy":"gh-pages -d build","start":"craco start","build":"craco build","test":"craco test","eject":"craco eject"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"src/**/*.{js,jsx,ts,tsx,json,css,scss,md}":["prettier --write"]},"eslintConfig":{"ignorePatterns":["src/*"]}}')},35:function(e,a,t){e.exports={root:"app_root__2y0JE"}},41:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var s=t(1),r=t.n(s),c=t(30),n=t.n(c),i=(t(41),t(11)),o=t(2),l=t.p+"static/media/logo.6ce24c58.svg",d=t(14),b=t.n(d),h=t(0),j=function(){return Object(h.jsxs)("div",{className:b.a.root,children:[Object(h.jsxs)("header",{className:b.a.header,children:[Object(h.jsx)("img",{src:l,className:b.a.logo,alt:"logo"}),Object(h.jsx)("div",{children:"superfans-sharebox"})]}),Object(h.jsxs)("main",{children:[Object(h.jsx)("strong",{children:"Demo Dashboards:"}),Object(h.jsx)("br",{}),Object(h.jsx)(i.c,{to:"/dashboard/mikek",className:b.a.link,children:"Mike Knights"})," ","|"," ",Object(h.jsx)(i.c,{to:"/dashboard/charliec",className:b.a.link,children:"Charlie Chaplin"})," ","|"," ",Object(h.jsx)(i.c,{to:"/dashboard/johnd",className:b.a.link,children:"John Doe"})]})]})},u=t(4),m=t(32),p=t(19),_=t.n(p),x=function(e){var a=e.uniqueShareLink,t=Object(s.useState)(!1),r=Object(u.a)(t,2),c=r[0],n=r[1],i=Object(s.useState)(a),o=Object(u.a)(i,2),l=o[0];o[1];return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsxs)("p",{className:"pb-1 text-sm",children:["Your unique sharing link"," ",!!c&&Object(h.jsx)("span",{className:_.a.copied,children:"copied!"})]}),Object(h.jsxs)("div",{className:"pb-3 relative",children:[Object(h.jsx)("input",{className:_.a.input,value:l,readOnly:!0}),Object(h.jsx)(m.CopyToClipboard,{onCopy:function(){n(!0),setTimeout((function(){return n(!1)}),5e3)},text:l,children:Object(h.jsx)("button",{className:_.a.button,title:"Copy link","aria-label":"Copy link",children:Object(h.jsx)("span",{className:_.a.buttonText,children:"Copy link"})})})]})]})},O=t(21),g=t.n(O),f=t(9),v=t.n(f),N=function(e){var a=e.rewards,t=(e.username,a.filter((function(e){return"accepted"===e.value})).length),s=a.sort((function(e,a){return a.timestamp-e.timestamp}));return Object(h.jsxs)("section",{className:v.a.main,children:[Object(h.jsx)("header",{className:v.a.header,children:"Activity feed"}),Object(h.jsx)("main",{className:v.a.rows,children:s.map((function(e){var a=null;switch(e.value){case"accepted":a=Object(h.jsxs)("div",{className:v.a.row,children:[Object(h.jsx)(g.a,{className:v.a.emoji,symbol:"\ud83d\ude00",label:"laughing"}),"Your friend ",Object(h.jsx)("strong",{children:e.visitorName})," earned you a reward!"]},e.id);break;case"rejected":a=Object(h.jsxs)("div",{className:v.a.row,children:[Object(h.jsx)(g.a,{className:v.a.emoji,symbol:"\ud83d\ude31",label:"astonished"}),"A friend visited your link, but didn't earn you a reward!"]},e.id);break;case"escaped":a=Object(h.jsxs)("div",{className:v.a.row,children:[Object(h.jsx)(g.a,{className:v.a.emoji,symbol:"\ud83d\ude33",label:"blushed"}),"You tried to refer yourself! Whoops!"]},e.id)}return a}))}),Object(h.jsxs)("footer",{className:v.a.footer,children:[Object(h.jsx)("span",{className:"mr-3",children:"Total rewards"})," ",Object(h.jsx)("strong",{children:t})]})]})},k=t(18),w=t.n(k),y=t(22),S=t(27),L=t.n(S),C=t(36),T=Object(C.a)(r.a,{rewards:[]},{setRewards:function(e,a){e.setState({rewards:a})}}),A=function(e){var a=T(),t=Object(u.a)(a,2),s=t[0],r=t[1],c=e.username,n=y.reactLocalStorage.get("container-".concat(c))?JSON.parse(y.reactLocalStorage.get("container-".concat(c))):[];n&&n.length&&!s.rewards.length&&r.setRewards(n);return{rewards:n,setReward:function(e,a,t){var s=L()(n,{id:e});s&&"escaped"!==a?s.value=a:n.push({id:e,value:a,timestamp:(new Date).getTime(),visitorName:t}),y.reactLocalStorage.set("container-".concat(c),JSON.stringify(n)),r.setRewards(n)},hasVotedAlready:function(e){return!!L()(n,{id:e})}}},E=t(8),R=t.n(E),D=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,q=function(e){var a=e.email,t=e.username,r=e.uniqueShareLink,c=A({username:t}),n=c.setReward,i=(c.hasVotedAlready,Object(s.useState)("")),o=Object(u.a)(i,2),l=o[0],d=o[1],b=Object(s.useState)(!1),j=Object(u.a)(b,2),m=j[0],p=j[1],_=Object(h.jsxs)("span",{children:["To my good friend.",Object(h.jsx)("br",{}),"Please buy things here:",Object(h.jsx)("br",{}),r]}),x=function(e){window.alert("Demo click: ".concat(e))};return Object(h.jsxs)("div",{className:R.a.root,children:[Object(h.jsxs)("header",{className:R.a.tabs,children:[Object(h.jsx)("a",{className:R.a.tabMail,onClick:function(){return x("Share via E-mail")},title:"Share via E-mail",children:"Share via E-mail"}),Object(h.jsx)("a",{className:R.a.tabFacebook,onClick:function(){return x("Share on Facebook")},title:"Share on Facebook",children:"Share on Facebook"}),Object(h.jsx)("a",{className:R.a.tabTwitter,onClick:function(){return x("Share on Twitter")},title:"Share on Twitter",children:"Share on Twitter"}),Object(h.jsx)("a",{className:R.a.tabAttachment,onClick:function(){return x("Add an attachment")},title:"Add an attachment",children:"Add an attachment"})]}),Object(h.jsx)("main",{className:R.a.main,children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!1),l.length&&D.test(l)?l===a?n(t+(new Date).getTime(),"escaped"):window.alert("Submitting form"):p(!0)},children:[Object(h.jsx)("div",{className:"mb-3 text-sm",children:Object(h.jsxs)("p",{children:[Object(h.jsx)("span",{className:"mr-2",children:"From"}),Object(h.jsx)("strong",{children:a})]})}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsx)("input",{name:"email",placeholder:"Email address",className:w()(R.a.input,m&&R.a.inputError),onChange:function(e){d(e.target.value)}})}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsx)("div",{className:R.a.textarea,contentEditable:"true",children:_})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:R.a.buttonSend,type:"submit",children:"Send email"})})]})})]})},P=t(20),z=t.n(P),M=t(33),F=t(34),J=function(e){var a=e.username,t=F.homepage,s=Object(M.a)("randomUserString-".concat(a)),r=Object(u.a)(s,2),c=r[0],n=r[1];return c.length||n("".concat(t,"/share/").concat(a,"/").concat(z.a.time())),{uniqueLink:c}},B=t(12),V=t.n(B),Y=function(){var e=Object(o.g)().username,a=J({username:e}).uniqueLink,t=A({username:e}).rewards;return Object(h.jsx)("div",{className:V.a.root,children:Object(h.jsx)("div",{className:V.a.wrapper,children:Object(h.jsxs)("div",{className:V.a.box,children:[Object(h.jsx)("header",{className:V.a.header,children:Object(h.jsx)("h2",{className:V.a.title,children:"We love our super-fans!"})}),Object(h.jsxs)("main",{className:V.a.main,children:[Object(h.jsxs)("div",{className:V.a.columnLeft,children:[Object(h.jsx)(x,{uniqueShareLink:a}),Object(h.jsxs)("p",{className:"pb-2 leading-4 mb-2 text-sm",children:["Welcome back, you've referred friends!",Object(h.jsx)("br",{}),"Keep going for more rewards."]}),Object(h.jsx)(N,{rewards:t,username:e})]}),Object(h.jsx)("div",{className:V.a.columnRight,children:Object(h.jsx)(q,{uniqueShareLink:a,email:"".concat(e,"@mailprovider.com"),username:e})})]})]})})})},H=t(15),Q=t.n(H),Z=function(e){var a=e.callback,t=e.onClose,r=Object(s.useState)(""),c=Object(u.a)(r,2),n=c[0],i=c[1];return Object(h.jsx)("div",{className:Q.a.wrapper,children:Object(h.jsxs)("main",{className:Q.a.main,children:[Object(h.jsx)("header",{className:"mb-4",children:"Please, enter your name below:"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(n),t()},children:[Object(h.jsx)("div",{className:"mb-4",children:Object(h.jsx)("input",{placeholder:"Name",className:Q.a.input,value:n,onChange:function(e){i(e.target.value)}})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:Q.a.button,type:"submit",children:"Confirm"})})]}),Object(h.jsx)("a",{className:Q.a.closeButton,onClick:t,children:"\xd7"})]})})},I=t(10),U=t.n(I),W=z()(),K=function(){var e=Object(o.f)(),a=Object(o.g)().username,t=A({username:a}),r=t.setReward,c=t.hasVotedAlready,n=Object(s.useState)(!1),l=Object(u.a)(n,2),d=l[0],b=l[1],j=Object(s.useState)(!1),m=Object(u.a)(j,2),p=m[0],_=m[1],x=c(W),O=function(e){p?r(W,"escaped"):"accepted"===e?b(!0):r(W,e)};return Object(h.jsxs)("div",{className:U.a.root,children:[Object(h.jsx)("div",{className:U.a.wrapper,children:Object(h.jsxs)("div",{className:U.a.box,children:[Object(h.jsx)("header",{className:U.a.header,children:Object(h.jsx)("h2",{className:U.a.title,children:"Ready for your reward?"})}),Object(h.jsxs)("main",{children:[Object(h.jsxs)("p",{className:"pb-2 leading-4 mb-2",children:["Your friend ",Object(h.jsx)("strong",{children:a})," sent an invitation!"]}),Object(h.jsx)("div",{className:"mb-3",children:"--------------------------------"}),x?Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"pb-2 leading-4 mb-2",children:"You already voted!"})}):Object(h.jsxs)("div",{children:[Object(h.jsx)("a",{className:w()(U.a.link,"text-xl cursor-pointer"),onClick:function(){return O("accepted")},children:"Accept invitation"}),Object(h.jsx)("div",{className:"py-2",children:"or"}),Object(h.jsx)(i.b,{to:"/thanks/".concat(a),className:w()(U.a.link,"text-xs"),onClick:function(){return O("rejected")},children:"Decline invitation"})]})]})]})}),Object(h.jsx)("div",{className:U.a.helpLabelLeft,children:Object(h.jsxs)("label",{children:["Simulate ",Object(h.jsx)("strong",{children:a})," user"," ",Object(h.jsx)("input",{type:"checkbox",checked:p,onChange:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value;_(t)},className:U.a.helpLabelLeftCheckbox})]})}),Object(h.jsxs)("div",{className:U.a.helpLabelRight,children:["Notice: Each page reload simulate a new visitor ID! Current ID:"," ",W]}),d&&Object(h.jsx)(Z,{callback:function(t){r(W,"accepted",t),e.push("/thanks/".concat(a))},onClose:function(){return b(!1)}})]})},G=t(16),X=t.n(G),$=function(){var e=Object(o.g)().username;return Object(h.jsx)("div",{className:X.a.root,children:Object(h.jsx)("div",{className:X.a.wrapper,children:Object(h.jsxs)("div",{className:X.a.box,children:[Object(h.jsx)("header",{className:X.a.header,children:Object(h.jsx)("h2",{className:X.a.title,children:"Thanks for confirmation!"})}),Object(h.jsxs)("main",{children:[Object(h.jsxs)("p",{className:"pb-2 leading-6 mb-2",children:["Your preference about ",Object(h.jsx)("strong",{children:e}),"'s reward has been registered."]}),Object(h.jsx)("div",{children:"--------------------------------"})]})]})})})},ee=t(35),ae=t.n(ee);var te=function(){return Object(h.jsx)("div",{className:ae.a.root,children:Object(h.jsx)(i.a,{basename:"/superfans-sharebox",children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(j,{})}),Object(h.jsx)(o.a,{path:"/dashboard/:username",children:Object(h.jsx)(Y,{})}),Object(h.jsx)(o.a,{path:"/share/:username/:id",children:Object(h.jsx)(K,{})}),Object(h.jsx)(o.a,{path:"/thanks/:username",children:Object(h.jsx)($,{})})]})})})};n.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(te,{})}),document.getElementById("root"))},8:function(e,a,t){e.exports={root:"sharebox_root__3ajl3",tabs:"sharebox_tabs__3ngWD",tab:"sharebox_tab__3ckNs",tabMail:"sharebox_tabMail__3759_ sharebox_tab__3ckNs",tabFacebook:"sharebox_tabFacebook__nY4x6 sharebox_tab__3ckNs",tabTwitter:"sharebox_tabTwitter__3GrZZ sharebox_tab__3ckNs",tabAttachment:"sharebox_tabAttachment__3pwMe sharebox_tab__3ckNs",main:"sharebox_main__2D-oH",input:"sharebox_input__2E3No",textarea:"sharebox_textarea__-a6SU",inputError:"sharebox_inputError__2dpEE",buttonSend:"sharebox_buttonSend__2q0Ql"}},9:function(e,a,t){e.exports={sm:"screen and (min-width: 640px)",main:"activity-feed_main__1yZxz",header:"activity-feed_header__1yu95",footer:"activity-feed_footer__1P-eV",rows:"activity-feed_rows__JkBzk",row:"activity-feed_row__3aGxP",emoji:"activity-feed_emoji__x5RB4"}}},[[53,1,2]]]);
//# sourceMappingURL=main.345004da.chunk.js.map