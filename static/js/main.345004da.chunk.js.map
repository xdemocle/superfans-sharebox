{"version":3,"sources":["pages/sharepage/sharepage.module.css","pages/dashboard/dashboard.module.css","pages/home/home.module.css","components/input-dialog/input-dialog.module.css","pages/thankspage/thankspage.module.css","components/input-sharing-link/input-sharing-link.module.css","components/app/app.module.css","assets/logo.svg","pages/home/home.tsx","components/input-sharing-link/input-sharing-link.tsx","components/activity-feed/activity-feed.tsx","hooks/useGlobal.tsx","hooks/useRewards.tsx","components/sharebox/sharebox.tsx","hooks/useUniqueLink.tsx","pages/dashboard/dashboard.tsx","components/input-dialog/input-dialog.tsx","pages/sharepage/sharepage.tsx","pages/thankspage/thankspage.tsx","components/app/app.tsx","index.tsx","components/sharebox/sharebox.module.css","components/activity-feed/activity-feed.module.css"],"names":["module","exports","Home","className","styles","root","header","src","logo","alt","to","link","InputSharingLink","props","uniqueShareLink","useState","inputCopied","setInputCopied","inputCopyValue","copied","input","value","readOnly","onCopy","setTimeout","text","button","title","aria-label","buttonText","ActivityFeed","rewards","countAcceptedRewards","username","filter","reward","length","rewardsSorted","sort","a","b","timestamp","main","rows","map","output","row","emoji","symbol","label","visitorName","id","footer","globalHook","React","setRewards","store","setState","useRewards","useGlobal","globalState","globalActions","rewardsContainer","reactLocalStorage","get","JSON","parse","setReward","existentReward","find","push","Date","getTime","set","stringify","hasVotedAlready","regexEmailCheck","Sharebox","email","destinationEmail","setDestinationEmail","emailError","setEmailError","shareboxTextarea","clickTabHandler","window","alert","tabs","tabMail","onClick","tabFacebook","tabTwitter","tabAttachment","onSubmit","event","preventDefault","test","name","placeholder","classnames","inputError","onChange","target","textarea","contentEditable","children","buttonSend","type","useUniqueLink","rootWebsite","pkg","homepage","useLocalStorage","randomUserString","setRandomUserString","uniqid","time","uniqueLink","Dashboard","useParams","wrapper","box","columnLeft","columnRight","InputDialog","callback","onClose","setVisitorName","closeButton","visitorRewardId","Sharepage","history","useHistory","showDialog","setShowDialog","simulate","setSimulate","hasVoted","userAcceptHandler","accepted","helpLabelLeft","checked","helpLabelLeftCheckbox","helpLabelRight","Thankspage","App","basename","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.345004da.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sm\":\"screen and (min-width: 640px)\",\"root\":\"sharepage_root__26Ffg\",\"wrapper\":\"sharepage_wrapper__2rrvs\",\"box\":\"sharepage_box__3XN-D\",\"header\":\"sharepage_header__2N4Qh\",\"title\":\"sharepage_title__2lt_M\",\"link\":\"sharepage_link__2f69H\",\"helpLabel\":\"sharepage_helpLabel__3EuTP\",\"helpLabelLeft\":\"sharepage_helpLabelLeft__36kDM sharepage_helpLabel__3EuTP\",\"helpLabelRight\":\"sharepage_helpLabelRight__3cuSb sharepage_helpLabel__3EuTP\",\"helpLabelLeftCheckbox\":\"sharepage_helpLabelLeftCheckbox__4irCK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sm\":\"screen and (min-width: 640px)\",\"root\":\"dashboard_root__2qCnQ\",\"wrapper\":\"dashboard_wrapper__pPRBx\",\"box\":\"dashboard_box__3f1JQ\",\"header\":\"dashboard_header__19IQ1\",\"title\":\"dashboard_title__9gsqp\",\"main\":\"dashboard_main__1wlwg\",\"column\":\"dashboard_column__1VHis\",\"columnLeft\":\"dashboard_columnLeft__3UI1x dashboard_column__1VHis\",\"columnRight\":\"dashboard_columnRight__-y292 dashboard_column__1VHis\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"home_root__1zepV\",\"logo\":\"home_logo__22lQ0\",\"App-logo-spin\":\"home_App-logo-spin__TdujP\",\"header\":\"home_header__1KGhj\",\"link\":\"home_link__wxmMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"input-dialog_wrapper__P7zaU\",\"main\":\"input-dialog_main__2Rqk9\",\"input\":\"input-dialog_input__2wOz8\",\"button\":\"input-dialog_button__2zHs_\",\"closeButton\":\"input-dialog_closeButton__128Pe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sm\":\"screen and (min-width: 640px)\",\"root\":\"thankspage_root__1ib7v\",\"wrapper\":\"thankspage_wrapper__1Bzqj\",\"box\":\"thankspage_box__3WU5M\",\"header\":\"thankspage_header__1j8vz\",\"title\":\"thankspage_title__30LCk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"input-sharing-link_input__2HL3_\",\"copied\":\"input-sharing-link_copied__2ua1e\",\"button\":\"input-sharing-link_button__3k14a\",\"buttonText\":\"input-sharing-link_buttonText__NrO9X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"app_root__2y0JE\"};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport logo from '../../assets/logo.svg'\nimport styles from './home.module.css'\n\nconst Home = () => {\n  return (\n    <div className={styles.root}>\n      <header className={styles.header}>\n        <img src={logo} className={styles.logo} alt=\"logo\" />\n        <div>superfans-sharebox</div>\n      </header>\n      <main>\n        <strong>Demo Dashboards:</strong>\n        <br />\n        <NavLink to=\"/dashboard/mikek\" className={styles.link}>\n          Mike Knights\n        </NavLink>{' '}\n        |{' '}\n        <NavLink to=\"/dashboard/charliec\" className={styles.link}>\n          Charlie Chaplin\n        </NavLink>{' '}\n        |{' '}\n        <NavLink to=\"/dashboard/johnd\" className={styles.link}>\n          John Doe\n        </NavLink>\n      </main>\n    </div>\n  )\n}\n\nexport default Home\n","import React, { Fragment, useState } from 'react'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport styles from './input-sharing-link.module.css'\n\ninterface Props {\n  uniqueShareLink: string\n}\n\nconst InputSharingLink = (props: Props) => {\n  const { uniqueShareLink } = props\n  const [inputCopied, setInputCopied] = useState(false)\n  const [inputCopyValue, setInputCopyValue] = useState(uniqueShareLink)\n\n  const onInputCopy = () => {\n    setInputCopied(true)\n    setTimeout(() => setInputCopied(false), 5000)\n  }\n\n  return (\n    <Fragment>\n      <p className=\"pb-1 text-sm\">\n        Your unique sharing link{' '}\n        {!!inputCopied && <span className={styles.copied}>copied!</span>}\n      </p>\n      <div className=\"pb-3 relative\">\n        <input className={styles.input} value={inputCopyValue} readOnly />\n        <CopyToClipboard onCopy={onInputCopy} text={inputCopyValue}>\n          <button\n            className={styles.button}\n            title=\"Copy link\"\n            aria-label=\"Copy link\"\n          >\n            <span className={styles.buttonText}>Copy link</span>\n          </button>\n        </CopyToClipboard>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default InputSharingLink\n","import React from 'react'\nimport Emoji from 'a11y-react-emoji'\nimport { Reward } from '../../hooks/useGlobal'\nimport styles from './activity-feed.module.css'\n\ninterface Props {\n  rewards: Reward[]\n  username: string\n}\n\nconst ActivityFeed = (props: Props) => {\n  const { rewards, username } = props\n  const countAcceptedRewards = rewards.filter((reward) => {\n    return reward.value === 'accepted'\n  }).length\n\n  const rewardsSorted = rewards.sort((a, b) => {\n    return b.timestamp - a.timestamp\n  })\n\n  return (\n    <section className={styles.main}>\n      <header className={styles.header}>Activity feed</header>\n      <main className={styles.rows}>\n        {rewardsSorted.map((reward) => {\n          let output = null\n\n          switch (reward.value) {\n            case 'accepted':\n              output = (\n                <div key={reward.id} className={styles.row}>\n                  <Emoji\n                    className={styles.emoji}\n                    symbol=\"ðŸ˜€\"\n                    label=\"laughing\"\n                  />\n                  Your friend <strong>{reward.visitorName}</strong> earned you a\n                  reward!\n                </div>\n              )\n              break\n            case 'rejected':\n              output = (\n                <div key={reward.id} className={styles.row}>\n                  <Emoji\n                    className={styles.emoji}\n                    symbol=\"ðŸ˜±\"\n                    label=\"astonished\"\n                  />\n                  A friend visited your link, but didn't earn you a reward!\n                </div>\n              )\n              break\n            case 'escaped':\n              output = (\n                <div key={reward.id} className={styles.row}>\n                  <Emoji className={styles.emoji} symbol=\"ðŸ˜³\" label=\"blushed\" />\n                  You tried to refer yourself! Whoops!\n                </div>\n              )\n              break\n          }\n\n          return output\n        })}\n      </main>\n      <footer className={styles.footer}>\n        <span className=\"mr-3\">Total rewards</span>{' '}\n        <strong>{countAcceptedRewards}</strong>\n      </footer>\n    </section>\n  )\n}\n\nexport default ActivityFeed\n","import React from 'react'\nimport globalHook, { Store } from 'use-global-hook'\n\nexport type Reward = {\n  id: string\n  value: string\n  timestamp: number\n  visitorName?: string\n}\n\nexport type MyState = {\n  rewards: Reward[]\n}\n\nexport type MyActions = {\n  setRewards: (rewards: Reward[]) => void\n}\n\nconst initialState: MyState = {\n  rewards: []\n}\n\nconst actions = {\n  setRewards: (store: Store<MyState, MyActions>, rewards: Reward[]) => {\n    store.setState({ rewards })\n  }\n}\n\nexport default globalHook<MyState, MyActions>(React, initialState, actions)\n","import React from 'react'\nimport { reactLocalStorage } from 'reactjs-localstorage'\nimport find from 'lodash.find'\nimport useGlobal, { Reward } from './useGlobal'\n\ninterface Props {\n  username: string\n}\n\nconst useRewards = (props: Props) => {\n  const [globalState, globalActions] = useGlobal()\n  const { username } = props\n  let rewardsContainer: Reward[] = reactLocalStorage.get(\n    `container-${username}`\n  )\n    ? JSON.parse(reactLocalStorage.get(`container-${username}`))\n    : []\n\n  // write it globally\n  if (\n    rewardsContainer &&\n    !!rewardsContainer.length &&\n    !globalState.rewards.length\n  ) {\n    globalActions.setRewards(rewardsContainer)\n  }\n\n  const setReward = (id: string, value: string, visitorName?: string) => {\n    const existentReward = find(rewardsContainer, { id })\n\n    if (existentReward && value !== 'escaped') {\n      existentReward.value = value\n    } else {\n      rewardsContainer.push({\n        id,\n        value,\n        timestamp: new Date().getTime(),\n        visitorName\n      })\n    }\n\n    // Persist it\n    reactLocalStorage.set(\n      `container-${username}`,\n      JSON.stringify(rewardsContainer)\n    )\n    globalActions.setRewards(rewardsContainer)\n  }\n\n  const hasVotedAlready = (id: string) => {\n    const existentReward = find(rewardsContainer, { id })\n\n    return !!existentReward\n  }\n\n  return { rewards: rewardsContainer, setReward, hasVotedAlready }\n}\n\nexport default useRewards\n","import React, { useState } from 'react'\nimport classnames from 'classnames'\nimport useRewards from '../../hooks/useRewards'\nimport styles from './sharebox.module.css'\n\ninterface Props {\n  email: string\n  username: string\n  uniqueShareLink: string\n}\n\nconst regexEmailCheck = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n\nconst Sharebox = (props: Props) => {\n  const { email, username, uniqueShareLink } = props\n  const { setReward, hasVotedAlready } = useRewards({ username })\n  const [destinationEmail, setDestinationEmail] = useState('')\n  const [emailError, setEmailError] = useState(false)\n\n  const shareboxTextarea = (\n    <span>\n      To my good friend.\n      <br />\n      Please buy things here:\n      <br />\n      {uniqueShareLink}\n    </span>\n  )\n\n  const clickTabHandler = (text: string) => {\n    window.alert(`Demo click: ${text}`)\n  }\n\n  const inputOnChangeHandler = (event: {\n    target: { value: React.SetStateAction<string> }\n  }) => {\n    setDestinationEmail(event.target.value)\n  }\n\n  const onSubmitHandler = (event: React.ChangeEvent<any>) => {\n    event.preventDefault()\n    setEmailError(false)\n\n    if (!destinationEmail.length || !regexEmailCheck.test(destinationEmail)) {\n      setEmailError(true)\n    } else if (destinationEmail === email) {\n      setReward(username + new Date().getTime(), 'escaped')\n    } else {\n      window.alert('Submitting form')\n    }\n  }\n\n  return (\n    <div className={styles.root}>\n      <header className={styles.tabs}>\n        <a\n          className={styles.tabMail}\n          onClick={() => clickTabHandler('Share via E-mail')}\n          title=\"Share via E-mail\"\n        >\n          Share via E-mail\n        </a>\n        <a\n          className={styles.tabFacebook}\n          onClick={() => clickTabHandler('Share on Facebook')}\n          title=\"Share on Facebook\"\n        >\n          Share on Facebook\n        </a>\n        <a\n          className={styles.tabTwitter}\n          onClick={() => clickTabHandler('Share on Twitter')}\n          title=\"Share on Twitter\"\n        >\n          Share on Twitter\n        </a>\n        <a\n          className={styles.tabAttachment}\n          onClick={() => clickTabHandler('Add an attachment')}\n          title=\"Add an attachment\"\n        >\n          Add an attachment\n        </a>\n      </header>\n      <main className={styles.main}>\n        <form onSubmit={onSubmitHandler}>\n          <div className=\"mb-3 text-sm\">\n            <p>\n              <span className=\"mr-2\">From</span>\n              <strong>{email}</strong>\n            </p>\n          </div>\n          <div className=\"mb-3\">\n            <input\n              name=\"email\"\n              placeholder=\"Email address\"\n              className={classnames(\n                styles.input,\n                emailError && styles.inputError\n              )}\n              onChange={inputOnChangeHandler}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <div\n              className={styles.textarea}\n              contentEditable=\"true\"\n              children={shareboxTextarea}\n            />\n          </div>\n          <div>\n            <button className={styles.buttonSend} type=\"submit\">\n              Send email\n            </button>\n          </div>\n        </form>\n      </main>\n    </div>\n  )\n}\n\nexport default Sharebox\n","import uniqid from 'uniqid'\nimport useLocalStorage from 'react-use-localstorage'\nimport pkg from '../../package.json'\n\ninterface Props {\n  username: string\n}\n\nconst useUniqueLink = (props: Props) => {\n  const { username } = props\n  const rootWebsite =\n    process.env.NODE_ENV !== 'development'\n      ? pkg.homepage\n      : 'http://localhost:3000'\n  const [randomUserString, setRandomUserString] = useLocalStorage(\n    `randomUserString-${username}`\n  )\n\n  if (!randomUserString.length) {\n    setRandomUserString(`${rootWebsite}/share/${username}/${uniqid.time()}`)\n  }\n\n  return { uniqueLink: randomUserString }\n}\n\nexport default useUniqueLink\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport InputSharingLink from '../../components/input-sharing-link/input-sharing-link'\nimport ActivityFeed from '../../components/activity-feed/activity-feed'\nimport Sharebox from '../../components/sharebox/sharebox'\nimport useUniqueLink from '../../hooks/useUniqueLink'\nimport useRewards from '../../hooks/useRewards'\nimport styles from './dashboard.module.css'\n\ninterface RouteParams {\n  username: string\n}\n\nconst Dashboard = () => {\n  const { username } = useParams<RouteParams>()\n  const { uniqueLink } = useUniqueLink({ username })\n  const { rewards } = useRewards({ username })\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.wrapper}>\n        <div className={styles.box}>\n          <header className={styles.header}>\n            <h2 className={styles.title}>We love our super-fans!</h2>\n          </header>\n          <main className={styles.main}>\n            <div className={styles.columnLeft}>\n              <InputSharingLink uniqueShareLink={uniqueLink} />\n              <p className=\"pb-2 leading-4 mb-2 text-sm\">\n                Welcome back, you've referred friends!\n                <br />\n                Keep going for more rewards.\n              </p>\n              <ActivityFeed rewards={rewards} username={username} />\n            </div>\n            <div className={styles.columnRight}>\n              <Sharebox\n                uniqueShareLink={uniqueLink}\n                email={`${username}@mailprovider.com`}\n                username={username}\n              />\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Dashboard\n","import React, { useState } from 'react'\nimport classnames from 'classnames'\nimport styles from './input-dialog.module.css'\n\ntype Props = {\n  callback: (visitorName: string) => void\n  onClose: () => void\n}\n\nconst InputDialog = (props: Props) => {\n  const { callback, onClose } = props\n  const [visitorName, setVisitorName] = useState('')\n\n  const inputChangeHandler = (event: React.ChangeEvent<any>) => {\n    setVisitorName(event.target.value)\n  }\n\n  const onSubmit = (event: React.ChangeEvent<any>) => {\n    event.preventDefault()\n    callback(visitorName)\n    onClose()\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <main className={styles.main}>\n        <header className=\"mb-4\">Please, enter your name below:</header>\n        <form onSubmit={onSubmit}>\n          <div className=\"mb-4\">\n            <input\n              placeholder=\"Name\"\n              className={styles.input}\n              value={visitorName}\n              onChange={inputChangeHandler}\n            />\n          </div>\n          <div>\n            <button className={styles.button} type=\"submit\">\n              Confirm\n            </button>\n          </div>\n        </form>\n        <a className={styles.closeButton} onClick={onClose}>\n          &#215;\n        </a>\n      </main>\n    </div>\n  )\n}\n\nexport default InputDialog\n","import React, { useState } from 'react'\nimport classnames from 'classnames'\nimport { Link, useHistory, useParams } from 'react-router-dom'\nimport uniqid from 'uniqid'\nimport useRewards from '../../hooks/useRewards'\nimport InputDialog from '../../components/input-dialog/input-dialog'\nimport styles from './sharepage.module.css'\n\ninterface RouteParams {\n  username: string\n}\n\n// On every refresh of the browser, we simulate an ID for the user visitor used\n// also as rewardId.\nconst visitorRewardId = uniqid()\n\nconst Sharepage = () => {\n  const history = useHistory()\n  const { username } = useParams<RouteParams>()\n  const { setReward, hasVotedAlready } = useRewards({ username })\n  const [showDialog, setShowDialog] = useState(false)\n  const [simulate, setSimulate] = useState(false)\n  const hasVoted = hasVotedAlready(visitorRewardId)\n\n  const onCloseDialog = () => setShowDialog(false)\n\n  const userAcceptHandler = (accepted: string) => {\n    if (simulate) {\n      setReward(visitorRewardId, 'escaped')\n    } else if (accepted === 'accepted') {\n      setShowDialog(true)\n    } else {\n      setReward(visitorRewardId, accepted)\n    }\n  }\n\n  const simulateClickHandler = (event: { target: any }) => {\n    const target = event.target\n    const value = target.type === 'checkbox' ? target.checked : target.value\n    setSimulate(value)\n  }\n\n  const callbackInputDialog = (visitorName: string) => {\n    setReward(visitorRewardId, 'accepted', visitorName)\n    history.push(`/thanks/${username}`)\n  }\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.wrapper}>\n        <div className={styles.box}>\n          <header className={styles.header}>\n            <h2 className={styles.title}>Ready for your reward?</h2>\n          </header>\n\n          <main>\n            <p className=\"pb-2 leading-4 mb-2\">\n              Your friend <strong>{username}</strong> sent an invitation!\n            </p>\n            <div className=\"mb-3\">--------------------------------</div>\n            {!hasVoted ? (\n              <div>\n                <a\n                  className={classnames(styles.link, 'text-xl cursor-pointer')}\n                  onClick={() => userAcceptHandler('accepted')}\n                >\n                  Accept invitation\n                </a>\n                <div className=\"py-2\">or</div>\n                <Link\n                  to={`/thanks/${username}`}\n                  className={classnames(styles.link, 'text-xs')}\n                  onClick={() => userAcceptHandler('rejected')}\n                >\n                  Decline invitation\n                </Link>\n              </div>\n            ) : (\n              <div>\n                <p className=\"pb-2 leading-4 mb-2\">You already voted!</p>\n              </div>\n            )}\n          </main>\n        </div>\n      </div>\n\n      <div className={styles.helpLabelLeft}>\n        <label>\n          Simulate <strong>{username}</strong> user{' '}\n          <input\n            type=\"checkbox\"\n            checked={simulate}\n            onChange={simulateClickHandler}\n            className={styles.helpLabelLeftCheckbox}\n          />\n        </label>\n      </div>\n      <div className={styles.helpLabelRight}>\n        Notice: Each page reload simulate a new visitor ID! Current ID:{' '}\n        {visitorRewardId}\n      </div>\n\n      {showDialog && (\n        <InputDialog callback={callbackInputDialog} onClose={onCloseDialog} />\n      )}\n    </div>\n  )\n}\n\nexport default Sharepage\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport styles from './thankspage.module.css'\n\ninterface RouteParams {\n  username: string\n}\n\nconst Thankspage = () => {\n  const { username } = useParams<RouteParams>()\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.wrapper}>\n        <div className={styles.box}>\n          <header className={styles.header}>\n            <h2 className={styles.title}>Thanks for confirmation!</h2>\n          </header>\n          <main>\n            <p className=\"pb-2 leading-6 mb-2\">\n              Your preference about <strong>{username}</strong>'s reward has\n              been registered.\n            </p>\n            <div>--------------------------------</div>\n          </main>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Thankspage\n","import React from 'react'\nimport { hot } from 'react-hot-loader/root'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport Home from '../../pages/home/home'\nimport Dashboard from '../../pages/dashboard/dashboard'\nimport Sharepage from '../../pages/sharepage/sharepage'\nimport Thankspage from '../../pages/thankspage/thankspage'\nimport styles from './app.module.css'\n\nfunction App() {\n  const basename =\n    process.env.NODE_ENV !== 'development' ? '/superfans-sharebox' : '/'\n\n  return (\n    <div className={styles.root}>\n      <Router basename={basename}>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/dashboard/:username\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/share/:username/:id\">\n            <Sharepage />\n          </Route>\n          <Route path=\"/thanks/:username\">\n            <Thankspage />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default hot(App)\n","import 'react-hot-loader'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/app/app'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"sharebox_root__3ajl3\",\"tabs\":\"sharebox_tabs__3ngWD\",\"tab\":\"sharebox_tab__3ckNs\",\"tabMail\":\"sharebox_tabMail__3759_ sharebox_tab__3ckNs\",\"tabFacebook\":\"sharebox_tabFacebook__nY4x6 sharebox_tab__3ckNs\",\"tabTwitter\":\"sharebox_tabTwitter__3GrZZ sharebox_tab__3ckNs\",\"tabAttachment\":\"sharebox_tabAttachment__3pwMe sharebox_tab__3ckNs\",\"main\":\"sharebox_main__2D-oH\",\"input\":\"sharebox_input__2E3No\",\"textarea\":\"sharebox_textarea__-a6SU\",\"inputError\":\"sharebox_inputError__2dpEE\",\"buttonSend\":\"sharebox_buttonSend__2q0Ql\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sm\":\"screen and (min-width: 640px)\",\"main\":\"activity-feed_main__1yZxz\",\"header\":\"activity-feed_header__1yu95\",\"footer\":\"activity-feed_footer__1P-eV\",\"rows\":\"activity-feed_rows__JkBzk\",\"row\":\"activity-feed_row__3aGxP\",\"emoji\":\"activity-feed_emoji__x5RB4\"};"],"sourceRoot":""}